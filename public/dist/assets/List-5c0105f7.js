import{c as e,g as t,_ as o,r as n,o as r,a as l,b as a,d as i,e as u,f as s,w as c,h as d,i as f,t as p,j as v,E as y,p as m,k as h}from"./index-d44fb2e5.js";const g="controller.passworddb.getAllPassword",w="controller.passworddb.addPassword",b="controller.passworddb.batchAddPassword",k="controller.passworddb.deletePassword",_="controller.passworddb.updatePassword",x="controller.filedirdialog.getExportDirPath",S="controller.filedirdialog.getImportFilePath",E="controller.excel.exportDataToExcel",V="controller.excel.exportTemplateFile",C="controller.excel.importExcelFile",T=(window.require&&window.require("electron")||window.electron||{}).ipcRenderer||void 0;var P={exports:{}};
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */const A=t(P.exports=function(){return function(){var e={686:function(e,t,o){o.d(t,{default:function(){return _}});var n=o(279),r=o.n(n),l=o(370),a=o.n(l),i=o(817),u=o.n(i);function s(e){try{return document.execCommand(e)}catch(t){return!1}}var c=function(e){var t=u()(e);return s("cut"),t},d=function(e,t){var o=function(e){var t="rtl"===document.documentElement.getAttribute("dir"),o=document.createElement("textarea");o.style.fontSize="12pt",o.style.border="0",o.style.padding="0",o.style.margin="0",o.style.position="absolute",o.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;return o.style.top="".concat(n,"px"),o.setAttribute("readonly",""),o.value=e,o}(e);t.container.appendChild(o);var n=u()(o);return s("copy"),o.remove(),n},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},o="";return"string"==typeof e?o=d(e,t):e instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null==e?void 0:e.type)?o=d(e.value,t):(o=u()(e),s("copy")),o};function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,o=void 0===t?"copy":t,n=e.container,r=e.target,l=e.text;if("copy"!==o&&"cut"!==o)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==r){if(!r||"object"!==p(r)||1!==r.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===o&&r.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===o&&(r.hasAttribute("readonly")||r.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return l?f(l,{container:n}):r?"cut"===o?c(r):f(r,{container:n}):void 0};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var o,n,r,l=w(e);if(t){var a=w(this).constructor;o=Reflect.construct(l,arguments,a)}else o=l.apply(this,arguments);return n=this,!(r=o)||"object"!==y(r)&&"function"!=typeof r?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n):r}}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){var o="data-clipboard-".concat(e);if(t.hasAttribute(o))return t.getAttribute(o)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(l,e);var t,o,n,r=g(l);function l(e,t){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(o=r.call(this)).resolveOptions(t),o.listenClick(e),o}return t=l,o=[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===y(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=a()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget,o=this.action(t)||"copy",n=v({action:o,container:this.container,target:this.target(t),text:this.text(t)});this.emit(n?"success":"error",{action:o,text:n,trigger:t,clearSelection:function(){t&&t.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(e){return b("action",e)}},{key:"defaultTarget",value:function(e){var t=b("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return b("text",e)}},{key:"destroy",value:function(){this.listener.destroy()}}],n=[{key:"copy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return f(e,t)}},{key:"cut",value:function(e){return c(e)}},{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,o=!!document.queryCommandSupported;return t.forEach((function(e){o=o&&!!document.queryCommandSupported(e)})),o}}],o&&m(t.prototype,o),n&&m(t,n),l}(r()),_=k},828:function(e){if("undefined"!=typeof Element&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},438:function(e,t,o){var n=o(828);function r(e,t,o,n,r){var a=l.apply(this,arguments);return e.addEventListener(o,a,r),{destroy:function(){e.removeEventListener(o,a,r)}}}function l(e,t,o,r){return function(o){o.delegateTarget=n(o.target,t),o.delegateTarget&&r.call(e,o)}}e.exports=function(e,t,o,n,l){return"function"==typeof e.addEventListener?r.apply(null,arguments):"function"==typeof o?r.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return r(e,t,o,n,l)})))}},879:function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var o=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===o||"[object HTMLCollection]"===o)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},370:function(e,t,o){var n=o(879),r=o(438);e.exports=function(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!n.string(t))throw new TypeError("Second argument must be a String");if(!n.fn(o))throw new TypeError("Third argument must be a Function");if(n.node(e))return function(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}(e,t,o);if(n.nodeList(e))return function(e,t,o){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,o)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,o)}))}}}(e,t,o);if(n.string(e))return function(e,t,o){return r(document.body,e,t,o)}(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},817:function(e){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var o=e.hasAttribute("readonly");o||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),o||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var n=window.getSelection(),r=document.createRange();r.selectNodeContents(e),n.removeAllRanges(),n.addRange(r),t=n.toString()}return t}},279:function(e){function t(){}t.prototype={on:function(e,t,o){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){var n=this;function r(){n.off(e,r),t.apply(o,arguments)}return r._=t,this.on(e,r,o)},emit:function(e){for(var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=o.length;n<r;n++)o[n].fn.apply(o[n].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),n=o[e],r=[];if(n&&t)for(var l=0,a=n.length;l<a;l++)n[l].fn!==t&&n[l].fn._!==t&&r.push(n[l]);return r.length?o[e]=r:delete o[e],this}},e.exports=t,e.exports.TinyEmitter=t}},t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}return o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,{a:t}),t},o.d=function(e,t){for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o(686)}().default}()),O=e=>(m("data-v-ac5612f6"),e=e(),h(),e),M={class:"app-container"},L={class:"layout-wrapper"},j={class:"layout-left-container"},R={class:"layout-right-container"},U={class:"table-container"},N={class:"layout-wrapper"},z={key:0,class:"layout-left-container"},F={key:0},H={key:1,class:"layout-left-container"},I={key:2,class:"layout-right-container"},q={key:3,class:"layout-right-container"},D=O((()=>d("h5",null,"添加密码",-1))),J=O((()=>d("h5",null,"编辑密码",-1))),B={style:{"text-align":"left"}},Y={class:"layout-wrapper"},W={class:"layout-left-container"},X=O((()=>d("div",{class:"layout-right-container"},[d("div",null," 版本V1.0.1 Copyright© 2024 All Rights Reserved. ")],-1))),G=o({__name:"List",setup(e){const{toClipboard:t}=(e=>{const t=void 0===(null==e?void 0:e.appendToBody)||e.appendToBody;return{toClipboard:(e,o)=>new Promise(((n,r)=>{const l=document.createElement("button"),a=new A(l,{text:()=>e,action:()=>"copy",container:void 0!==o?o:document.body});a.on("success",(e=>{a.destroy(),n(e)})),a.on("error",(e=>{a.destroy(),r(e)})),t&&document.body.appendChild(l),l.click(),t&&document.body.removeChild(l)}))}})(),o=n([]);function m(){T.invoke(g,"").then((e=>{if(0==e.all_list.length)return console.log("没有数据"),!1;console.log(e.all_list),o.value=e.all_list,Reflect.set(o.value,"showPassword",!1)}))}r((()=>{m()}));const h=n();r((()=>{h.value=window.innerHeight-140,window.onresize=()=>{h.value=window.innerHeight-140}}));const P=n(!1),O=n({website:"",username:"",password:"",remark:""}),G=()=>{T.invoke(w,JSON.stringify(O.value)).then((e=>{if(-1==e.code)return console.log("添加失败"),!1;O.value={website:"",username:"",password:"",remark:""},m(),P.value=!1,y({type:"success",message:"添加成功"})}))},K=n(!1),Q=n({}),Z=()=>{console.log(Q.value),T.invoke(_,JSON.stringify(Q.value)).then((e=>{if(-1==e.code)return console.log("更新失败"),!1;m(),K.value=!1,y({type:"success",message:"更新成功"})}))},$=n(!1),ee=n(null),te=()=>{T.invoke(k,ee.value.id).then((e=>{if(-1==e.code)return console.log("删除失败"),!1;m(),$.value=!1,y({type:"success",message:"删除成功"})}))},oe=e=>{(async e=>{try{await t(e)}catch(o){console.log(o)}})(e.password),y({type:"success",message:"密码拷贝成功"})},ne=n(""),re=l((()=>o.value.filter((e=>e.website.toLowerCase().includes(ne.value.toLowerCase()))))),le=(e,t)=>{e.showPassword=t},ae=e=>({rowHeight:"20px"});n(!1);const ie=n(""),ue=()=>{const e={dirPath:"",datas:[]};T.invoke(x).then((t=>{if(-1==t.code)return console.log("获取导出目录失败"),!1;ie.value=t.result,e.dirPath=ie.value,e.datas=o.value,T.invoke(E,JSON.stringify(e)).then((e=>{if(-1==e.code)return console.log("导出失败"),!1;y({type:"success",message:"导出成功"})}))}))},se=()=>{const e={dirPath:"",datas:[{id:1,website:"baidu",username:"test",password:"123456",remark:"test"}]};T.invoke(x).then((t=>{if(-1==t.code)return console.log("获取导出目录失败"),!1;ie.value=t.result,e.dirPath=ie.value,T.invoke(V,JSON.stringify(e)).then((e=>{if(-1==e.code)return console.log("导出失败"),!1;y({type:"success",message:"导出成功"})}))}))},ce=n(""),de=()=>{T.invoke(S).then((e=>{if(-1==e.code)return console.log("获取导入文件失败"),!1;ce.value=e.result,T.invoke(C,JSON.stringify(ce.value)).then((e=>{if(-1==e.code)return console.log("导入失败"),!1;let t=e.all_list;T.invoke(b,JSON.stringify(t)).then((e=>{if(-1==e.code)return console.log("导入失败"),!1;m(),y({type:"success",message:"导入成功"})}))}))}))};return(e,t)=>{const n=a("el-header"),r=a("el-button"),l=a("ArrowDown"),y=a("el-icon"),m=a("el-dropdown-item"),g=a("el-dropdown-menu"),w=a("el-dropdown"),b=a("el-input"),k=a("el-table-column"),_=a("View"),x=a("Hide"),S=a("el-link"),E=a("el-table"),V=a("el-form-item"),C=a("el-form"),T=a("el-drawer"),A=a("Warning"),ie=a("el-dialog"),ce=a("el-main"),fe=a("el-footer"),pe=a("el-container");return i(),u("div",M,[s(pe,null,{default:c((()=>[s(n,{height:"0px"}),s(ce,null,{default:c((()=>[d("div",L,[d("div",j,[s(r,{type:"primary",icon:"Plus",onClick:t[0]||(t[0]=e=>P.value=!0)},{default:c((()=>[f(" 添加密码 ")])),_:1}),s(w,{style:{"margin-left":"15px","margin-right":"15px"},trigger:"click"},{dropdown:c((()=>[s(g,null,{default:c((()=>[s(m,{onClick:de,icon:"Upload"},{default:c((()=>[f("导入")])),_:1}),s(m,{onClick:se},{default:c((()=>[f("下载模板文件")])),_:1})])),_:1})])),default:c((()=>[s(r,{text:"",icon:"Upload"},{default:c((()=>[f(" 导入"),s(y,{class:"el-icon--right"},{default:c((()=>[s(l)])),_:1})])),_:1})])),_:1}),s(r,{text:"",icon:"Download",onClick:ue},{default:c((()=>[f(" 导出 ")])),_:1})]),d("div",R,[s(b,{placeholder:"搜索网站",modelValue:ne.value,"onUpdate:modelValue":t[1]||(t[1]=e=>ne.value=e),clearable:"true","suffix-icon":"Search",style:{width:"300px"}},null,8,["modelValue"])])]),d("div",U,[s(E,{data:re.value,style:{width:"100%"},height:h.value,"empty-text":"暂无数据",border:!0,"header-cell-style":{background:"#F0F0F0",color:"#000000"},"row-style":ae},{default:c((()=>[s(k,{type:"selection"}),s(k,{prop:"website",label:"网站"}),s(k,{prop:"username",label:"用户名"}),s(k,{prop:"password",label:"密码"},{default:c((e=>[d("div",N,[e.row.showPassword?(i(),u("div",H,[d("span",null,p(e.row.password),1)])):(i(),u("div",z,[e.row.password?(i(),u("span",F,p("•".repeat(8)),1)):v("",!0)])),e.row.showPassword?(i(),u("div",q,[s(y,{onMousedown:t=>le(e.row,!0),onMouseleave:t=>le(e.row,!1),onMouseup:t=>le(e.row,!1),size:20,style:{"vertical-align":"middle"}},{default:c((()=>[s(x)])),_:2},1032,["onMousedown","onMouseleave","onMouseup"])])):(i(),u("div",I,[s(y,{onMousedown:t=>le(e.row,!0),onMouseleave:t=>le(e.row,!1),onMouseup:t=>le(e.row,!1),size:20,style:{"vertical-align":"middle"}},{default:c((()=>[s(_)])),_:2},1032,["onMousedown","onMouseleave","onMouseup"])]))])])),_:1}),s(k,{prop:"remark",label:"备注"}),s(k,{label:"操作"},{default:c((e=>[s(S,{type:"primary",href:"#",size:"small",onClick:t=>{return o=e.row,Q.value={...o},void(K.value=!0);var o}},{default:c((()=>[f("编辑")])),_:2},1032,["onClick"]),f("   "),s(S,{type:"primary",href:"#",size:"small",onClick:t=>{return o=e.row,ee.value=o,console.log(ee.value),void($.value=!0);var o}},{default:c((()=>[f("删除")])),_:2},1032,["onClick"]),f("   "),s(S,{type:"primary",href:"#",size:"small",onClick:t=>oe(e.row)},{default:c((()=>[f("拷贝密码")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","height"])]),s(T,{size:"40%",modelValue:P.value,"onUpdate:modelValue":t[7]||(t[7]=e=>P.value=e)},{header:c((()=>[D])),footer:c((()=>[s(r,{type:"primary",onClick:G},{default:c((()=>[f("保存")])),_:1}),s(r,{onClick:t[6]||(t[6]=e=>P.value=!1)},{default:c((()=>[f("取消")])),_:1})])),default:c((()=>[s(C,{"label-position":"top","label-width":"60px",model:O.value},{default:c((()=>[s(V,{label:"网站",prop:"website"},{default:c((()=>[s(b,{modelValue:O.value.website,"onUpdate:modelValue":t[2]||(t[2]=e=>O.value.website=e)},null,8,["modelValue"])])),_:1}),s(V,{label:"用户名",prop:"username"},{default:c((()=>[s(b,{modelValue:O.value.username,"onUpdate:modelValue":t[3]||(t[3]=e=>O.value.username=e)},null,8,["modelValue"])])),_:1}),s(V,{label:"密码",prop:"password"},{default:c((()=>[s(b,{modelValue:O.value.password,"onUpdate:modelValue":t[4]||(t[4]=e=>O.value.password=e),"show-password":""},null,8,["modelValue"])])),_:1}),s(V,{label:"备注",prop:"remark"},{default:c((()=>[s(b,{type:"textarea",rows:"8",modelValue:O.value.remark,"onUpdate:modelValue":t[5]||(t[5]=e=>O.value.remark=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),s(T,{size:"40%",modelValue:K.value,"onUpdate:modelValue":t[13]||(t[13]=e=>K.value=e)},{header:c((()=>[J])),footer:c((()=>[s(r,{type:"primary",onClick:Z},{default:c((()=>[f("保存")])),_:1}),s(r,{onClick:t[12]||(t[12]=e=>K.value=!1)},{default:c((()=>[f("取消")])),_:1})])),default:c((()=>[s(C,{"label-position":"top","label-width":"60px",model:Q.value},{default:c((()=>[s(V,{label:"网站",prop:"website"},{default:c((()=>[s(b,{modelValue:Q.value.website,"onUpdate:modelValue":t[8]||(t[8]=e=>Q.value.website=e)},null,8,["modelValue"])])),_:1}),s(V,{label:"用户名",prop:"username"},{default:c((()=>[s(b,{modelValue:Q.value.username,"onUpdate:modelValue":t[9]||(t[9]=e=>Q.value.username=e)},null,8,["modelValue"])])),_:1}),s(V,{label:"密码",prop:"password"},{default:c((()=>[s(b,{modelValue:Q.value.password,"onUpdate:modelValue":t[10]||(t[10]=e=>Q.value.password=e),"show-password":""},null,8,["modelValue"])])),_:1}),s(V,{label:"备注",prop:"remark"},{default:c((()=>[s(b,{type:"textarea",rows:"8",modelValue:Q.value.remark,"onUpdate:modelValue":t[11]||(t[11]=e=>Q.value.remark=e)},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),s(ie,{title:"确认删除",modelValue:$.value,"onUpdate:modelValue":t[15]||(t[15]=e=>$.value=e)},{footer:c((()=>[s(r,{onClick:t[14]||(t[14]=e=>$.value=!1)},{default:c((()=>[f("取消")])),_:1}),s(r,{type:"primary",onClick:te},{default:c((()=>[f("确定")])),_:1})])),default:c((()=>[d("div",B,[s(y,{style:{color:"orange","margin-right":"5px"}},{default:c((()=>[s(A)])),_:1}),f(" 确定要删除这条记录吗？ ")])])),_:1},8,["modelValue"])])),_:1}),s(fe,{height:"20px"},{default:c((()=>[d("div",Y,[d("div",W,[d("div",null," 共 "+p(o.value.length)+" 条密码记录 ",1)]),X])])),_:1})])),_:1})])}}},[["__scopeId","data-v-ac5612f6"]]);export{G as default};
